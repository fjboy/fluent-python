[DEFAULT]

enabled_apis = osapi_compute
osapi_compute_listen =Local_Mgmt_IP
my_ip =Local_Mgmt_IP
osapi_compute_workers=32
transport_url = rabbit://RabbitMQ_USER:RabbitMQ_PWD@RabbitMQ_IP1:5672,RabbitMQ_USER:RabbitMQ_PWD@RabbitMQ_IP2:5672
auth_strategy = keystone
debug = True
use_neutron = True
firewall_driver = nova.virt.firewall.NoopFirewallDriver
linuxnet_interface_driver = nova.network.linux_net.LinuxOVSInterfaceDriver
service_down_time = 180
report_interval = 60
rpc_response_timeout = 600
state_path = /var/lib/nova
allow_resize_to_same_host = True
max_request_body_size=5242880
enabled_resize_to_reboot=True

[api]

max_limit = 5000
[api_database]
connection = mysql+pymysql://nova:NOVA_DBPWD@mysql-ha-vip/nova_api
retry_interval = 10
max_pool_size = 1000
max_retries = -1
max_overflow = 2000

[barbican]

[cache]

memcache_servers = Memcached_IP1:11211,Memcached_IP2:11211,Memcached_IP3:11211
backend = oslo_cache.memcache_pool
enabled = True

[center_compute_api]

os_region_name = RegionOne
project_domain_name = Default
project_name = service
auth_type = password
user_domain_name = Default
auth_url = http://keystone-ha-vip:35357/v3
username = CENTERCOMPUTE_SERVICE_PWD
password = 12345678

[cinder]

os_region_name = Region_Name
catalog_info = volumev2:cinderv2:publicURL

[conductor]

workers = 32

[database]

connection = mysql+pymysql://nova:NOVA_DBPWD@mysql-ha-vip/nova
retry_interval = 10
max_pool_size = 1000
max_retries = -1
max_overflow = 2000

[filter_scheduler]

available_filters = nova.scheduler.filters.all_filters
enabled_filters = AvailabilityZoneFilter,AggregateImagePropertiesIsolation,AggregateInstanceExtraSpecsFilter,RetryFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,AggregateCoreFilter,AggregateRamFilter,NUMATopologyFilter,PciPassthroughFilter,AggregateNumInstancesFilter,LocalDiskFilter

weight_classes = nova.scheduler.weights.all_weighers
ram_weight_multiplier = 1.0
core_weight_multiplier = 1.0
disk_weight_multiplier=0.01
soft_affinity_weight_multiplier = 100
soft_anti_affinity_weight_multiplier = 100
host_subset_size = 10
max_io_ops_per_host = 8
max_instances_per_host = 50
aggregate_image_properties_isolation_namespace = image

[glance]

api_servers = http://glance-ha-vip:9292
num_retries = 3

[key_manager]

[keystone_authtoken]

auth_uri = http://keystone-ha-vip:5000
auth_url = http://keystone-ha-vip:35357
memcached_servers=Memcached_IP1:11211,Memcached_IP2:11211,Memcached_IP3:11211
auth_type = password
project_domain_name = Default
user_domain_name = Default
project_name = service
username = nova
password = NOVA_SERVICE_PWD
region_name = Region_Name

[neutron]

url = http://neutron-server-ha-vip:9696
region_name = Region_Name
project_domain_name = Default
project_name = service
user_domain_name = Default
password = NEUTRON_SERVICE_PWD
username = neutron
auth_url = http://keystone-ha-vip:35357
auth_type = password

[notifications]

notify_on_state_change = vm_and_task_state
notification_format = versioned
versioned_notifications_topics = versioned_notifications

[oslo_concurrency]

lock_path=/var/lib/nova/tmp

[oslo_messaging_notifications]

driver = messaging

[oslo_messaging_rabbit]

rabbit_ha_queues = true

[oslo_policy]

[placement]

report_without_placement = True
auth_uri = http://keystone-ha-vip:5000
auth_url = http://keystone-ha-vip:35357
auth_type = password
project_domain_name = Default
user_domain_name = Default
project_name = service
username = placement
password = PLACEMENT_SERVICE_PWD
os_region_name = Region_Name

[placement_database]

connection = mysql+pymysql://nova:NOVA_DBPWD@mysql-ha-vip/nova_api

[quota]

instances = -1
cores = -1
ram = -1
server_groups = -1
server_group_members = -1
metadata_items = -1
injected_files = -1
injected_file_content_bytes = -1
injected_file_path_length = -1
key_pairs = -1

[scheduler]

driver = sort_scheduler
host_manager = sort_host_manager
force_filters=True
discover_hosts_in_cells_interval=300
max_attempts=3
workers=1

[sort_scheduler]

use_global_schedule_lock=False
schedule_host_steps=100
schedule_cell_retry_times=1

[vnc]

novncproxy_host = Local_Mgmt_IP
vncserver_proxyclient_address =Local_Mgmt_IP